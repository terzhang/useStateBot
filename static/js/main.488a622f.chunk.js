(this["webpackJsonpusestatebot-example"]=this["webpackJsonpusestatebot-example"]||[]).push([[0],{1:function(t,n,e){},10:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),i=e(2),a=e.n(i),l=(e(1),function(t,n){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)});function c(t,n){function e(){this.constructor=t}l(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var s=function(t){function n(e,r){var o=t.call(this,r)||this;return Error.captureStackTrace&&Error.captureStackTrace(o,n),o.name=o.constructor.name,o.cause=e,o}return c(n,t),n}(Error),u=function(t){function n(n,e){var r=Array.isArray(n)?n.join(", "):n;return t.call(this,n,e||'Missing or invalid "'+r+' in configOption"')||this}return c(n,t),n}(s),f=function(t){function n(n,e){var r=Array.isArray(n)?n.join(", "):n;return t.call(this,n,e||'Missing or invalid "'+r+' in state option"')||this}return c(n,t),n}(s),g=function(t){function n(n,e){return t.call(this,n,e||"Invalid Action: "+n)||this}return c(n,t),n}(s);var d=function(t){var n=Object(r.useState)(t.initialState),e=n[0],o=n[1],i=Object(r.useRef)(t),a=Object(r.useCallback)((function(){if(!t.initialState)throw new u("initialState");if(!t.hasOwnProperty(t.initialState))throw new f(t.initialState,t.initialState+" is specified as initialState, but is not configured")}),[]),l=Object(r.useCallback)((function(){for(var n=Object.keys(t).filter((function(t){return!["initialState","globalEnter","globalExit","globalAction"].includes(t)})),e=[],r=function(t,r){if(!n.includes(t))throw new f(t,r+" points to "+t+", but "+t+" is not configured");e.includes(t)||e.push(t)},o=0,a=n.length;o<a;++o){var l=n[o],c=t[l];if(!c)throw new f(l,'Invalid state property. "'+l+'" must be a valid object');var s=c.to;if(s&&("string"===typeof s||s instanceof String))r(s,l);else if(s&&Array.isArray(s))for(var g=0,d=s.length;g<d;++g)r(s[g],l);else if(s)throw new u("to",'The "to" property for "'+l+'" must be a String or an Array')}var b=n.filter((function(t){return!e.includes(t)&&t!==i.current.initialState}));if(b.length>0)throw new f(b,'One or many isolated states found: "'+b.join(", ")+'".')}),[]);return Object(r.useEffect)((function(){a(),l()}),[]),{isEndState:function(){return!i.current[e].hasOwnProperty("to")},getPath:function(t){if(!t)throw new g("getPath","Missing stateName as argument for getPath");if(t&&!i.current.hasOwnProperty(t))throw new g("getPath","The given stateName is invalid");var n=i.current[t];return n.hasOwnProperty("to")?Array.isArray(n.to)?n.to:[n.to]:[]},getState:function(){return e},reset:function(){o(t.initialState)},to:function(t){if(!t||!i.current.hasOwnProperty(t))throw new g("to",'Missing or invalid argument for "to" method');var n=i.current[e],r=n.to,a=n.onExit,l=n.action;if(r){if(Array.isArray(r)&&!r.includes(t))throw new g("to",t+" is unreachable from "+e);if("string"===typeof r&&r!==t)throw new g("to",t+" is unreachable from "+e);var c=i.current[t];return i.current.globalAction&&i.current.globalAction(),l&&l(),i.current.globalExit&&i.current.globalExit(),a&&a(),i.current.globalEnter&&i.current.globalEnter(),c&&c.onEnter&&c.onEnter(),o(t),t}},next:function(){var t=i.current[e],n=t.to,r=t.onExit,a=t.action;if(n){var l;if(Array.isArray(n)){if(n.length>=2&&0!==n.length)throw new g("next","Multiple path from current state, "+e+". Cannot determined next state.");l=n[0]}else l=n;var c=i.current[l];return i.current.globalAction&&i.current.globalAction(),a&&a(),i.current.globalExit&&i.current.globalExit(),r&&r(),i.current.globalEnter&&i.current.globalEnter(),c.onEnter&&c.onEnter(),o(l),l}},hasManyPaths:function(){var t=i.current[e].to;return Array.isArray(t)&&t.length>1},setGlobalEnter:function(t){i.current.globalEnter=t()},setGlobalExit:function(t){i.current.globalExit=t()},setGlobalAction:function(t){i.current.globalAction=t()},clearAllGlobals:function(){i.current.globalEnter=void 0,i.current.globalExit=void 0,i.current.globalAction=void 0}}};const b={initialState:"idle",idle:{to:"loading",onEnter:()=>console.log("entering idle state \n=="),onExit:()=>console.log("exiting idle state"),action:()=>console.log("running idle transition side effect")},loading:{to:["idle","ready"],onEnter:()=>console.log("entering loading state \n=="),onExit:()=>console.log("leaving loading state"),action:()=>console.log("running action transition side effect")},ready:{to:"destroyed",onEnter:()=>console.log("entering ready state \n=="),onExit:()=>console.log("leaving ready state"),action:()=>console.log("taking action on ready state")},destroyed:{onEnter:()=>console.log("state is now: destroyed \n==")}};var h=()=>{const t=d(b),n=t.getState,e=t.next,r=t.to,i=t.reset,a=t.isEndState;return o.a.createElement("div",{className:"container"},o.a.createElement("p",{className:"stateText"},"State: ",o.a.createElement("span",null,n())),"loading"===n()?o.a.createElement("div",{className:"buttonGroup"},o.a.createElement("button",{onClick:()=>r("idle")},"Cancel"),o.a.createElement("button",{onClick:()=>r("ready")},"Ready!")):a()?o.a.createElement("button",{onClick:()=>{i(),console.log("Bot is reset back to "+b.initialState)}},"Reset Bot"):o.a.createElement("button",{onClick:()=>e()},"Next State"))};a.a.render(o.a.createElement(h,null),document.getElementById("root"))},3:function(t,n,e){t.exports=e(10)}},[[3,1,2]]]);
//# sourceMappingURL=main.488a622f.chunk.js.map